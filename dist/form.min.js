const form=document.getElementById("formulaireRecommandation"),modal=document.getElementById("modalConfirmation"),submitButton=document.getElementById("submitButton");form.addEventListener("submit",async e=>{e.preventDefault(),submitButton.textContent="Envoi en cours...",submitButton.disabled=!0;const t=new FormData(form);t.append("form-name","recommandation");try{const e=await fetch("/",{method:"POST",body:t});e.ok?(form.reset(),modal?modal.classList.remove("hidden"):console.warn("L'élément modalConfirmation n'a pas été trouvé. Soumission réussie.")):(console.error("Erreur de soumission Netlify, Statut:",e.status),alert("❌ Erreur lors de l'envoi du formulaire. Netlify a retourné une erreur. Veuillez réessayer."))}catch(e){console.error("Erreur de soumission réseau:",e),alert("❌ Échec de la connexion. Veuillez vérifier votre réseau.")}finally{submitButton.textContent="Envoyer la recommandation",submitButton.disabled=!1}}),modal.addEventListener("click",e=>{e.target===modal&&modal.classList.add("hidden")});